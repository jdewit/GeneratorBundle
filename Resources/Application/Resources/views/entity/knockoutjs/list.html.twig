{{ "{% extends '"~ bundle_name ~"::layout.html.twig' %}" }}
{{ "{% block content %}" }}
    <div id="{{ entity_cc }}-list-container">
        <h1>
            {{ entity | camelCaseToTitle }} List
            <select data-bind="value: filter, filter: {{ entity_cc }}s" data-href="{{ "{{ path('"~ bundle_alias ~"_"~ entity_cc ~"_get') }}" }}">
                <option class="current" value="Recent">Recent</option>
                <option value="All">All</option>
                <option value="Deleted">Deleted</option>
                <option value="Search">Search</option>
            </select>
        </h1>
        <a href="#" class="btn btn-new throw-right" data-bind="click: new{{ entity }}"><i class="sprite-add"></i>New {{ entity | camelCaseToTitle }}</a>
        <hr />
        {{ "{% include '"~ bundle_name~":"~ entity ~":table.html.twig' %}" }}
        {{ "{% include '"~ bundle_name~":"~ entity ~":search.html.twig' %}" }}
        <div data-bind="foreach: {{ entity_cc }}sBatch">
            {{ "{% include '"~ bundle_name~":"~ entity ~":form.html.twig' %}" }}
        </div>
    </div>
{{ "{% endblock %}" }}
{{ "{% block customJS %}" }}

    ;(function(avro, $, undefined) {
        avro.{{ entity_cc }}ListModel = new {{ entity_cc }}ListModel({
            {{ entity_cc }}s: {{ "{{ "~ entity_cc ~"s | serialize | raw }}" }}
        });
    }(window.avro = window.avro || {}, jQuery)); 

    ko.applyBindings(avro.{{ entity_cc }}ListModel, $("#{{ entity_cc }}-list-container")[0]);
{{ "{% endblock %}" }}


