{% for field in fields %}
{% if field.type == 'string' %}
{% if field.fieldName == 'email' %}
            ->add('{{ field.fieldName }}', 'email', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => 'email',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}
                )
            ))          
{% elseif field.fieldName == 'date' %}
            ->add('{{ field.fieldName }}', 'date', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'widget' => 'single_text',
                'input' => 'string',
                'format' => 'yyyy-MM-dd', 
                'attr' => array(
                    'title' => 'Pick a date',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }},
                        datepicker: true
                    "
{% endif %}
                ),
            ))
{% elseif field.fieldName == 'country' %}
            ->add('{{ field.fieldName }}', 'country', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => '',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}
                )
            ))   
{% elseif field.fieldName == 'zipCode' %}
            ->add('{{ field.fieldName }}', 'text', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => 'zipCode',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}
                )
            ))   
{% else %}
            ->add('{{ field.fieldName }}', 'text', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => 'capitalize',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}
                )
            ))   
{% endif %}
{% elseif field.type == 'decimal' %}
            ->add('{{ field.fieldName }}', 'number', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'precision' => {{ field.precision }},
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => 'number',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}

                )
            ))      
{% elseif field.type == 'text' %}
            ->add('{{ field.fieldName }}', 'textarea', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => '',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}

                )
            ))          
{% elseif field.type == 'datetime' %}
            ->add('{{ field.fieldName }}', 'date', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'widget' => 'single_text',
                'input' => 'datetime',
                'format' => 'yyyy-MM-dd', 
                'attr' => array(
                    'title' => 'Pick a date',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }},
                        datepicker: true
                    "
{% endif %}
                ),
            ))
{% elseif field.type == 'manyToOne' %}
{% if field.fieldName == 'image' or field.fieldName == 'logo' %}
            ->add('image', new \Avro\AssetBundle\Form\Type\ImageFormType(), array(
                'required' => false,
                'label' => 'false'
            ))
{% else %}
            ->add('{{ field.fieldName }}', 'entity', array(
                'empty_value' => 'Select a {{ field.fieldName | camelCaseToTitle | lower }}...',
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'class' =>'{{ field.targetEntity }}',
{% if searchForm is not defined %}
                'choices' => ${{ field.targetEntityName }}s,
{% else %}
                'choices' => array(),                
{% endif %}
                'attr' => array(
                    'title' => 'Choose a {{ field.fieldName }}',  
                    'class' => '',
{% if searchForm is defined %}
                    'data-bind' => "
                        options: avro.available{{ field.targetEntityName | ucFirst }}s,
                        optionsValue: 'id',
                        optionsText: 'name',
                        chosen: true
                    "
{% endif %}
{% if searchForm is not defined %}
                    'data-href' => $this->router->generate('{{ field.targetBundleAlias }}_{{ field.targetEntityName }}_getForm'),
                    'data-bind' => "
                        value: selected{{ field.fieldName | ucFirst }},
                        newSelect: selected{{ field.fieldName | ucFirst }}
                    "
{% endif %}
                )
            ))  
{% endif %}
{% elseif field.type == 'oneToMany' %}
{% if ignoreManyFields is not defined %}
            ->add('{{ field.fieldName }}', 'collection', array(
                'label' => 'false',
                'required' => false,
                'type' => new \{{ field.targetVendor }}\{{ field.targetBundle }}\Form\Type\{{ field.targetEntityName | ucFirst }}FormType($this->context, $this->router),
                'allow_add' => true,
                'allow_delete' => true,
                'prototype' => true,
                'by_reference' => false,
                'options' => array('data_class' => '{{ field.targetVendor }}\{{ field.targetBundle }}\Entity\{{ field.targetEntityName | ucFirst }}'), 
            ))
{% endif %}
{% elseif field.type == 'manyToMany' %}
{% if ignoreManyFields is not defined %}
            ->add('{{ field.fieldName }}', 'collection', array(
                'label' => 'false',
                'required' => false,
                'type' => new \{{ field.targetVendor }}\{{ field.targetBundle }}\Form\Type\{{ field.targetEntityName | ucFirst }}FormType($this->context, $this->router),
                'allow_add' => true,
                'allow_delete' => true,
                'prototype' => true,
                'by_reference' => false,
                'options' => array('data_class' => '{{ field.targetVendor }}\{{ field.targetBundle }}\Entity\{{ field.targetEntityName | ucFirst }}'), 
            ))
{% endif %}
{% elseif field.type == 'boolean' %}  
            ->add('{{ field.fieldName }}', 'checkbox', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                'attr' => array(
                    'title' => '{{ field.fieldName | camelCaseToTitle }}?',  
{% if searchForm is not defined %}
                    'data-bind' => "
                        checked: {{ field.fieldName }}
                    "
{% endif %}
                )
            ))   
{% else %}
            ->add('{{ field.fieldName }}', '{{ field.type }}', array(
                'label' => '{{ field.fieldName | camelCaseToTitle }}',
                'required' => false,
                 'attr' => array(
                    'title' => 'Enter the {{ field.fieldName | camelCaseToTitle | lower }}',  
                    'class' => '',
{% if searchForm is not defined %}
                    'data-bind' => "
                        value: {{ field.fieldName }}
                    "
{% endif %}
                )
           ))            
{% endif %}
{% endfor %}

